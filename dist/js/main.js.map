{"version":3,"sources":["main.js"],"names":["Main","theEvent","results","detail","resultsUl","document","querySelector","textContent","r","resultInfo","resultEl","createElement","appendChild","resultDiv","setAttribute","dataDiv","nameDiv","categoryDiv","statsDiv","imgEl","icon","setupListeners","window","gmap","GoogleApi","$form","addEventListener","handleSearch","handleSearchResults","preventDefault","query","value","console","log","customEvent","CustomEvent","dispatchEvent"],"mappings":";;;;;;;;;;IAAMA,I;AACF,kBAAc;AAAA;;AAAA,iDAyBQ,UAACC,QAAD,EAAc;AAChC;AACA,UAAMC,OAAO,GAAGD,QAAQ,CAACE,MAAzB;AACA,UAAMC,SAAS,GAAGC,QAAQ,CAACC,aAAT,CAAuB,eAAvB,CAAlB;AACAF,MAAAA,SAAS,CAACG,WAAV,GAAwB,EAAxB;;AAEA,WAAK,IAAIC,CAAT,IAAcN,OAAd,EAAuB;AACnB,YAAMO,UAAU,GAAGP,OAAO,CAACM,CAAD,CAA1B;AAEA,YAAME,QAAQ,GAAGL,QAAQ,CAACM,aAAT,CAAuB,IAAvB,CAAjB;AACAP,QAAAA,SAAS,CAACQ,WAAV,CAAsBF,QAAtB;AAEA,YAAMG,SAAS,GAAGR,QAAQ,CAACM,aAAT,CAAuB,KAAvB,CAAlB;AACAE,QAAAA,SAAS,CAACC,YAAV,CAAuB,OAAvB,EAAgC,YAAhC;AACAJ,QAAAA,QAAQ,CAACE,WAAT,CAAqBC,SAArB;AAEA,YAAME,OAAO,GAAGV,QAAQ,CAACM,aAAT,CAAuB,KAAvB,CAAhB;AACAI,QAAAA,OAAO,CAACD,YAAR,CAAqB,OAArB,EAA8B,UAA9B;AACAD,QAAAA,SAAS,CAACD,WAAV,CAAsBG,OAAtB;AAEA,YAAMC,OAAO,GAAGX,QAAQ,CAACM,aAAT,CAAuB,KAAvB,CAAhB;AACAK,QAAAA,OAAO,CAACF,YAAR,CAAqB,OAArB,EAA8B,UAA9B;AACAC,QAAAA,OAAO,CAACH,WAAR,CAAoBI,OAApB;AAEA,YAAMC,WAAW,GAAGZ,QAAQ,CAACM,aAAT,CAAuB,KAAvB,CAApB;AACAM,QAAAA,WAAW,CAACH,YAAZ,CAAyB,OAAzB,EAAkC,cAAlC;AACAC,QAAAA,OAAO,CAACH,WAAR,CAAoBK,WAApB;AAEA,YAAMC,QAAQ,GAAGb,QAAQ,CAACM,aAAT,CAAuB,KAAvB,CAAjB;AACAO,QAAAA,QAAQ,CAACJ,YAAT,CAAsB,OAAtB,EAA+B,WAA/B;AACAC,QAAAA,OAAO,CAACH,WAAR,CAAoBM,QAApB;AAEA,YAAMC,KAAK,GAAGd,QAAQ,CAACM,aAAT,CAAuB,KAAvB,CAAd;AACAQ,QAAAA,KAAK,CAACL,YAAN,CAAmB,KAAnB,EAA0BL,UAAU,CAACW,IAArC;AACAP,QAAAA,SAAS,CAACD,WAAV,CAAsBO,KAAtB;AAIH;AAGJ,KAlEa;;AACV,SAAKE,cAAL;AAEAC,IAAAA,MAAM,CAACC,IAAP,GAAc,IAAIC,SAAJ,EAAd;AACH;;;;qCAEgB;AACb,UAAIC,KAAK,GAAGpB,QAAQ,CAACC,aAAT,CAAuB,eAAvB,CAAZ;AACAmB,MAAAA,KAAK,CAACC,gBAAN,CAAuB,QAAvB,EAAiC,KAAKC,YAAtC;AAEAtB,MAAAA,QAAQ,CAACqB,gBAAT,CAA0B,eAA1B,EAA2C,KAAKE,mBAAhD;AACH;;;iCAEY3B,Q,EAAU;AACnBA,MAAAA,QAAQ,CAAC4B,cAAT;AAEA,UAAIC,KAAK,GAAGzB,QAAQ,CAACC,aAAT,CAAuB,gBAAvB,EAAyCyB,KAArD,CAHmB,CAInB;;AAEAC,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BH,KAA9B;AAEA,UAAII,WAAW,GAAG,IAAIC,WAAJ,CAAgB,cAAhB,EAAgC;AAAChC,QAAAA,MAAM,EAAG;AAAC2B,UAAAA,KAAK,EAAEA;AAAR;AAAV,OAAhC,CAAlB;AACAzB,MAAAA,QAAQ,CAAC+B,aAAT,CAAuBF,WAAvB;AACH;;;;;;AAgDL,IAAIlC,IAAJ","sourcesContent":["class Main {\n    constructor() {\n        this.setupListeners()\n\n        window.gmap = new GoogleApi()\n    }\n\n    setupListeners() {\n        var $form = document.querySelector('#place-search')\n        $form.addEventListener('submit', this.handleSearch)\n\n        document.addEventListener('place-results', this.handleSearchResults)\n    }\n\n    handleSearch(theEvent) {\n        theEvent.preventDefault()\n    \n        var query = document.querySelector('[name=\"query\"]').value\n        // var location = document.querySelector('[name=\"location\"]').value\n    \n        console.log('searching for ', query)\n    \n        var customEvent = new CustomEvent('place-search', {detail : {query: query}})\n        document.dispatchEvent(customEvent)\n    }\n\n    handleSearchResults = (theEvent) => {\n        //show list or grid of results below the map\n        const results = theEvent.detail\n        const resultsUl = document.querySelector('.results-grid')\n        resultsUl.textContent = ''\n\n        for (let r in results) {\n            const resultInfo = results[r]\n\n            const resultEl = document.createElement('li')\n            resultsUl.appendChild(resultEl)\n\n            const resultDiv = document.createElement('div')\n            resultDiv.setAttribute('class', 'result-div')\n            resultEl.appendChild(resultDiv)\n\n            const dataDiv = document.createElement('div')\n            dataDiv.setAttribute('class', 'info-box')\n            resultDiv.appendChild(dataDiv)\n\n            const nameDiv = document.createElement('div')\n            nameDiv.setAttribute('class', 'name-box')\n            dataDiv.appendChild(nameDiv)\n\n            const categoryDiv = document.createElement('div')\n            categoryDiv.setAttribute('class', 'category-div')\n            dataDiv.appendChild(categoryDiv)\n\n            const statsDiv = document.createElement('div')\n            statsDiv.setAttribute('class', 'stats-div')\n            dataDiv.appendChild(statsDiv)\n\n            const imgEl = document.createElement('img')\n            imgEl.setAttribute('src', resultInfo.icon)\n            resultDiv.appendChild(imgEl)\n\n\n\n        }\n\n\n    }\n}\n\n\n\nnew Main()"],"file":"main.js"}